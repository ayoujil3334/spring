<!DOCTYPE HTML>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="shortcut icon" href="@{/images/favicon.png}" />
<title>Welcome</title>
<link rel="stylesheet" type="text/css"
	th:href="@{/vendors/feather/feather.css}" />
<link rel="stylesheet" type="text/css"
	th:href="@{/vendors/ti-icons/css/themify-icons.css}" />
<link rel="stylesheet" type="text/css"
	th:href="@{/vendors/css/vendor.bundle.base.css}" />
<link rel="stylesheet" type="text/css"
	th:href="@{/vendors/select2/select2.min.css}" />
<link rel="stylesheet" type="text/css"
	th:href="@{/vendors/select2-bootstrap-theme/select2-bootstrap.min.css}" />
<link rel="stylesheet" type="text/css"
	th:href="@{/css/vertical-layout-light/style.css}" />
<link rel="stylesheet" type="text/css"
	th:href="@{/vendors/mdi/css/materialdesignicons.min.css}" />
<script defer
	src="https://use.fontawesome.com/releases/v5.15.4/js/all.js"
	integrity="sha384-rOA1PnstxnOBLzCLMcre8ybwbTmemjzdNlILg8O7z1lUkLXozs4DHonlDtnE7fpc"
	crossorigin="anonymous"></script>
<link rel="stylesheet"
	href="https://use.fontawesome.com/releases/v5.15.4/css/solid.css"
	integrity="sha384-Tv5i09RULyHKMwX0E8wJUqSOaXlyu3SQxORObAI08iUwIalMmN5L6AvlPX2LMoSE"
	crossorigin="anonymous" />
<link rel="stylesheet"
	href="https://use.fontawesome.com/releases/v5.15.4/css/fontawesome.css"
	integrity="sha384-jLKHWM3JRmfMU0A5x5AkjWkw/EYfGUAGagvnfryNV3F9VqM98XiIH7VBGVoxVSc7"
	crossorigin="anonymous" />
</head>
<body>
	<div class="container-scroller">
		<nav class="navbar col-lg-12 col-12 p-0 fixed-top d-flex flex-row"
			th:replace="/layout_views/_navbar.html :: navbar"></nav>
		<div class="container-fluid page-body-wrapper">
			<div class="theme-setting-wrapper"
				th:replace="/layout_views/_settings-panel.html :: settings-panel"></div>
			<nav class="sidebar sidebar-offcanvas" id="sidebar"
				th:replace="/layout_views/_sidebar.html :: sidebar"></nav>
			<div class="main-panel">
				<div class="content-wrapper">
					<div class="row">
						<div th:if="${successMessage != null}"
							class="alert alert-success col-12" th:text="${successMessage}"
							role="alert"></div>
						<div th:if="${warningMessage != null}"
							class="alert alert-warning col-12" th:text="${warningMessage}"
							role="alert"></div>
						<div th:if="${dangerMessage != null}"
							class="alert alert-danger col-12" th:text="${dangerMessage}"
							role="alert"></div>
						<div class="col-lg-12 grid-margin stretch-card">
							<div class="card">
								<div class="card-body">
									<h1 class="display-1" th:if="${status == 'PENDING'}">Demandes
										En attentes</h1>
									<h1 class="display-1" th:if="${status == 'ACCEPTED'}">Demandes
										Accept&eacute;es</h1>
									<h1 class="display-1" th:if="${status == 'REFUSED'}">Demandes
										Refus&eacute;es</h1>
									<div class="table-responsive">
										<table class="table table-striped">
											<thead>
												<tr>
													<th>#</th>
													<th>Motivation</th>
													<th>Status</th>
													<th>Date de creation</th>
													<th>Cr&eacute;e par</th>
													<th th:if="${status == 'PENDING'}">Changer a
														accept&eacute;e</th>
													<th th:if="${status == 'PENDING'}">Changer a
														refus&eacute;e</th>
												</tr>
											</thead>
											<tbody>
												<tr>
													<div th:if="${#lists.size(demandes) == 0}"
														class="alert alert-info" role="alert">
														Pas de demande
														<th:block th:if="${status == 'PENDING'}">
														    En attente
									                    </th:block>
														<th:block th:if="${status == 'ACCEPTED'}">
									                        Accept&eacute;e
									                    </th:block>
														<th:block th:if="${status == 'REFUSED'}">
									                        Refus&eacute;e
									                    </th:block>
														disponible pour le moment !
													</div>
												</tr>
												<th:block th:each="demande : ${demandes}">
													<tr>
														<td th:text="${demande.id}"></td>
														<td th:text="${demande.motivation}"></td>
														<td><span th:if="${demande.status == 'PENDING'}"
															class="badge rounded-pill bg-primary text-light">En
																attente</span> <span th:if="${demande.status == 'ACCEPTED'}"
															class="badge rounded-pill bg-success text-light">Accept&eacute;e</span>
															<span th:if="${demande.status == 'REFUSED'}"
															class="badge rounded-pill bg-danger text-light">Refus&eacute;e</span>
															<span th:if="${demande.status == 'HISTORY'}"
															class="badge rounded-pill bg-dark text-light">En
																historique</span></td>
														<td th:text="${demande.dateCreation}"></td>
														<td><a
															th:href="@{/admin/profile/users/show/{id}(id=${demande.professeur.id})}"><button
																	type="button" class="btn btn-primary btn-sm">Consulter</button></a></td>
														<th:block th:if="${demande.status == 'PENDING'}">
															<td><a
																th:href="@{'/admin/profile/demandes/' + ${demande.id} + '/pass/to/accepted'}"><button
																		type="button" class="btn btn-success btn-sm">Changer
																		a Accept&eacute;e</button></a></td>
															<td><a
																th:href="@{'/admin/profile/demandes/' + ${demande.id} + '/pass/to/refused'}"><button
																		type="button" class="btn btn-danger btn-sm">Changer
																		a Refus&eacute;e</button></a></td>
														</th:block>
													</tr>
												</th:block>
											</tbody>
										</table>
									</div>
									<footer style="font-size: large" class="panel-footer">
										Total Items [[${totalItems}]] : Page [[${currentPage}]] of
										[[${totalPages}]] &nbsp; &nbsp; - &nbsp;
										<div class="btn-group" role="group" aria-label="Basic example">
											<span th:each="i: ${#numbers.sequence(1, totalPages)}">
												<a
												th:href="@{'/admin/profile/demandes/' + ${#strings.toLowerCase(status)} + '/page/' + ${i}}"><button
														type="button"
														class="btn btn-inverse-primary btn-fw p-1 m-0">[[${i}]]</button></a>
												&nbsp; &nbsp;
											</span>
										</div>
									</footer>
								</div>
							</div>
						</div>
					</div>
				</div>
				<nav class="footer"
					th:replace="/layout_views/_footer.html :: footer"></nav>
			</div>
		</div>
	</div>
</body>
<script th:src="@{/vendors/js/vendor.bundle.base.js}"></script>
<script th:src="@{/vendors/chart.js/Chart.min.js}"></script>
<script th:src="@{/js/off-canvas.js}"></script>
<script th:src="@{/js/hoverable-collapse.js}"></script>
<script th:src="@{/js/template.js}"></script>
<script th:src="@{/js/settings.js}"></script>
<script th:src="@{/js/todolist.js}"></script>
<script th:src="@{/js/chart.js}"></script>
<script th:src="@{/js/file-upload.js}"></script>
<script th:src="@{/js/select2.js}"></script>
<script th:src="@{/js/typeahead.js}"></script>
</html>
